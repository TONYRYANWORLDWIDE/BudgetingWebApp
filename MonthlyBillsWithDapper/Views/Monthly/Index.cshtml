@model MonthlyBillsWithDapper.Models.BillsViewModel



<h1>MonthlyBills</h1>


<table id="MonthlyBillsTable" class="table">
    <thead>
        <tr>
            <th>id</th>
            <th>Bill</th>
            <th>Cost</th>
            <th>Day</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var monthlyBills in Model.MonthlyBills)
        {
        <tr>
            <td>               
                <span> @Html.EditorFor(modelItem => monthlyBills.id, new { htmlAttributes = new { @class = "form-control id" } }) </span>
            </td>
   
            <td>
                @Html.EditorFor(modelItem => monthlyBills.Bill, new { htmlAttributes = new { @class = "form-control Bill" } })
            </td>
            <td>
                @Html.EditorFor(modelItem => monthlyBills.Cost, new { htmlAttributes = new { @class = "form-control Cost" } })
            </td>
            <td>
                @Html.EditorFor(modelItem => monthlyBills.Date, new { htmlAttributes = new { @class = "form-control Day" } })
            </td>
            <td>
                <a class="Update" href="javascript:;">Update</a>
            </td>
        </tr>
        }
    </tbody>
</table>


<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script type="text/javascript">

    //$(".UpcomingBillsTable").on("keyup keydown", function () {
    //    console.log("keyed up")
    //});

    //$(document).ready(function () {
    //    console.log("ready");
    //})
    $("body").on("click", "#MonthlyBillsTable .Update", function () {

        var row = $(this).closest("tr");
            $("td", row).each(function () {
            if ($(this).find("input").length > 0) {
            var span = $(this).find("span");
            var input = $(this).find("input");
            span.html(input.val());
            }
            });   
            var Upcoming = {}
            Upcoming.id = row.find(".id").find('span').html();
            console.log(Upcoming.id)
        });



</script>
